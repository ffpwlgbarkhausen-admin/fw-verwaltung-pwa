<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#b91c1c">
  <title>Feuerwehrverwaltung - LG13 Pro | PWA</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    /* Verhindert das blaue Aufleuchten beim Klicken auf dem Handy */
    * { -webkit-tap-highlight-color: transparent; }

    /* Gesten-Bremse f√ºr App-Feeling */
    body { 
      overscroll-behavior-y: contain; 
      touch-action: pan-y; 
    }

    /* Ansichten-Steuerung */
    .view { display: none; }
    .view.active { display: block; }
    
    #member-modal {
      touch-action: auto;
    }
  </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 min-h-screen pb-20 transition-colors duration-300">

  <header class="bg-red-700 text-white p-4 shadow-lg sticky top-0 z-50">
  <div class="container mx-auto flex justify-between items-center">
    
    <div class="flex flex-col">
      <h1 id="header-title" class="font-black text-lg italic leading-none tracking-tight uppercase">
        Feuerwehrverwaltung LG13
      </h1>
      <div class="flex items-center gap-1.5 mt-1">
        <span class="inline-block w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
        <p id="sync-status" class="text-[10px] uppercase font-bold opacity-90 tracking-widest text-red-100">
          Synchronisiere...
        </p>
      </div>
    </div>

    <div class="flex items-center">
      <button onclick="toggleDarkMode()" class="focus:outline-none active:scale-90 transition-transform">
        <div class="w-12 h-12 rounded-full border-2 border-white/30 overflow-hidden bg-red-800 shadow-md">
          <img src="RLBS2.jpg" alt="Logo / DarkMode" class="w-full h-full object-cover">
        </div>
      </button>
    </div>

  </div>
</header>

  <main class="container mx-auto p-4">
    <div id="loader" class="flex justify-center py-20">
      <div class="animate-spin rounded-full h-10 w-10 border-4 border-red-700 border-t-transparent"></div>
    </div>

    <div id="view-home" class="view active space-y-4">
        <div id="promo-list" class="space-y-3"></div>
    </div>

    <div id="view-personal" class="view space-y-6"> 
        <div class="space-y-4">
            <input type="text" id="search" onkeyup="filterPersonal()" placeholder="Name suchen..." 
                   class="w-full p-5 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 outline-none focus:ring-4 focus:ring-red-700/10 transition-all font-medium">
            <div id="member-list" class="space-y-3"></div>
        </div>
    </div>
  </main>

  <nav class="fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-4 flex justify-around z-50">
    <button onclick="showViewWithNav('home')" class="nav-btn flex flex-col items-center text-red-700">
      <span>üè†</span><span class="text-[10px] font-bold">Home</span>
    </button>
    <button onclick="showViewWithNav('personal')" class="nav-btn flex flex-col items-center text-slate-400">
      <span>üë•</span><span class="text-[10px] font-bold">Personal</span>
    </button>
  </nav>

  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/app.js"></script>

  <div id="member-modal" class="hidden fixed inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex items-end sm:items-center justify-center transition-all">
    <div class="bg-white dark:bg-slate-800 w-full max-w-lg rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl relative">
      <div class="w-12 h-1.5 bg-slate-300 dark:bg-slate-600 rounded-full mx-auto mb-6 sm:hidden"></div>
      <button onclick="closeDetails()" class="absolute top-4 right-4 text-slate-400 hover:text-red-700 p-2">‚úï</button>
      <div id="modal-content"></div>
    </div>
  </div>
</body>
</html>
